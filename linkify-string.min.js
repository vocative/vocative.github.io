!function(e){"use strict";function t(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function r(e){return e.replace(/"/g,"&quot;")}function n(e){if(!e)return"";var t=[];for(var n in e){var i=(e[n]+"").replace(/"/g,"&quot;");t.push(n+'="'+r(i)+'"')}return t.join(" ")}function i(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];i=a.normalize(i);for(var l=o(e),s=[],u=0;u<l.length;u++){var p=l[u];if(p.isLink){var f=p.toHref(i.defaultProtocol),g=a.resolve(i.format,p.toString(),p.type),v=a.resolve(i.formatHref,f,p.type),c=a.resolve(i.attributes,f,p.type),y=a.resolve(i.tagName,f,p.type),h=a.resolve(i.linkClass,f,p.type),m=a.resolve(i.target,f,p.type),k="<"+y+' href="'+r(v)+'" class="'+r(h)+'"';m&&(k+=' target="'+r(m)+'"'),c&&(k+=" "+n(c)),k+=">"+t(g)+"</"+y+">",s.push(k)}else"nl"===p.type&&i.nl2br?i.newLine?s.push(i.newLine):s.push("<br>\n"):s.push(t(p.toString()))}return s.join("")}var o=e.tokenize,a=e.options;String.prototype.linkify||(String.prototype.linkify=function(e){return i(this,e)}),window.linkifyStr=i}(window.linkify);